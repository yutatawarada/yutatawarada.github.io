<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yuta Tawarada's website</title>
  <style>
/* =========================================================
   0) Base tokens
========================================================= */
:root{
  --blue-1:#19183B;        /* banner */
  --blue-2:#708993;        /* nav */
  --bg:#E7F2EF;
  --text:#222;
  --card:#fff;
  --muted:#3F464F;
  --lightmuted:#DFE4EB;
  --max:980px;
  --pad-x:24px;
  --card-alpha:0.50;       /* 0=transparent, 1=solid */
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
}

/* =========================================================
   1) Reset / base
========================================================= */
*{ box-sizing:border-box; }

html,body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
  height:100%;                 /* for sticky footer layout */
}

body{
  display:flex;                /* sticky footer layout */
  flex-direction:column;
}

/* smooth in-page anchor scroll (e.g., gallery thumbs) */
html{ scroll-behavior:smooth; }

/* Wrapper & sections */
.wrapper{ max-width:var(--max); margin:0 auto; padding:0 var(--pad-x); }
.section{ padding:28px 0; }

/* Cards */
.card,
.r-card{
  background:rgba(255,255,255,var(--card-alpha));
  border-radius:10px;
  box-shadow:0 1px 3px rgba(0,0,0,.08);
  padding:24px;
  margin-bottom:24px;
  backdrop-filter:saturate(100%) blur(2px);
}
.card h2{ margin:0 0 12px; }
.card h3{ margin:16px 0 10px; color:#444; }
.muted{ color:var(--muted); }

/* Images */
.resp,
.hero--profile img,
.r-fig img,
.gallery-img{
  display:block;
  width:100%;
  height:auto;
  border-radius:8px;
  box-shadow:0 1px 3px rgba(0,0,0,.08);
}

/* Page fade-in */
.page{ display:none; }
.page.active{
  display:block;
  animation:pageFadeIn 2.2s ease both;
}
@keyframes pageFadeIn{
  from{ opacity:0; transform:translateY(4px); }
  to  { opacity:1; transform:translateY(0); }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion:reduce){
  .page.active{ animation:none; }
}

/* =========================================================
   2) Layout: header / nav / footer
========================================================= */
.banner{
  position:relative;
  background:var(--blue-1);
  color:#fff;
  padding:40px 0 16px;
}
.banner h1{ margin:0; font-size:34px; letter-spacing:.5px; }
.banner p{ margin:8px 0 0; opacity:.9; }

/* top banner content */
.banner-flex{ display:flex; justify-content:space-between; align-items:center; gap:16px; }
.banner-text{ flex:1; }
.banner-gif{ height:180px; max-height:100%; width:auto; object-fit:contain; margin-left:20px; }

/* random GIF sprites across entire banner (behind text) */
.banner-sprites{
  position:absolute; inset:0;
  overflow:hidden; pointer-events:none; z-index:1;
}
/* ensure name/subtitle stay above */
.banner-flex, .banner-text{ position:relative; z-index:2; }
/* each sprite (timing set via JS) */
.banner-sprites img{
  position:absolute; opacity:.85;
  animation-name:bobY; animation-timing-function:ease-in-out; animation-iteration-count:infinite;
}
@keyframes bobY{
  0%{ transform:translateY(0); }
  50%{ transform:translateY(-14px); }
  100%{ transform:translateY(0); }
}

/* Nav */
.navbar{ background:var(--blue-2); color:#fff; }
.nav{ display:flex; gap:28px; align-items:center; overflow-x:auto; }
.nav a{
  color:#cfe0ff; text-decoration:none; font-weight:700; letter-spacing:.2px;
  padding:14px 0; border-bottom:3px solid transparent;
}
.nav a.active{ color:#fff; border-color:#90a4ff; }

/* Footer (sticky to bottom) */
main{ flex:1; } /* push footer down */
.site-footer{
  background:#333; color:#ccc; padding:40px 0; margin-top:0;
}
.site-footer a{ color:#9ec4ff; text-decoration:none; }
.site-footer a:hover{ text-decoration:underline; }
.footer-wrapper{
  max-width:1000px; margin:0 auto; padding:0 24px;
  display:grid; grid-template-columns:1fr 1fr 200px; gap:40px; align-items:center;
}
.footer-col h3{ margin:0 0 12px; color:#fff; font-size:16px; }
.footer-col p{ margin:4px 0; font-size:14px; }
.footer-gif img{ max-width:180px; height:auto; border-radius:6px; }

/* =========================================================
   3) Hero and responsive tweaks
========================================================= */
.hero{ display:grid; grid-template-columns:1fr; gap:12px; }
.hero--profile{
  display:grid; grid-template-columns:auto 1fr; gap:30px; align-items:start;
}
@media (max-width:760px){
  .hero--profile{ grid-template-columns:1fr; gap:16px; }
  .hero--profile img{ max-width:100%; }
}
@media (max-width:480px){
  .wrapper{ padding:0 16px; }
  .banner-flex{ flex-direction:column; align-items:flex-start; gap:8px; }
  .banner-gif{ height:64px; max-width:60vw; margin:8px 0 0; }
}
@media (max-width:700px){
  .footer-wrapper{ grid-template-columns:1fr; text-align:left; }
  .footer-gif img{ max-width:140px; margin-top:20px; }
}

/* =========================================================
   4) Research article specifics + mobile overflow fixes
========================================================= */
.r-title{ margin:0 0 14px; font-size:32px; color:#444; line-height:1.2; }
.r-sub{ margin:10px 0 12px; font-size:18px; color:#555; }
.r-grid{ display:grid; grid-template-columns:1fr 1fr; gap:24px; align-items:start; }
.r-cap{ margin-top:8px; color:#666; font-size:14px; }
.r-p{ margin:10px 0; color:#333; font-size:16px; line-height:1.6; }
.r-refs{ margin:16px 0 0; padding-left:20px; }

/* allow columns to shrink on mobile (prevents overflow) */
.r-grid > *{ min-width:0; }

/* wrap long sources/links on mobile */
.r-refs,
.r-refs li,
.r-refs a{
  overflow-wrap:anywhere;
  word-break:break-word;
  white-space:normal;
  line-height:1.45;
}
@media (max-width:900px){
  .r-grid{ grid-template-columns:1fr; }
}
@media (max-width:520px){
  .r-refs{ font-size:13px; }
  .card, .r-card{ overflow:hidden; }
}

/* =========================================================
   5) Video only behind main content
========================================================= */
.video-section{ position:relative; overflow:hidden; z-index:0; }
#bg-video{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; z-index:-2;
}
.video-section::before{
  content:""; position:absolute; inset:0;
  background:rgba(0,0,0,0.25); z-index:-1;
}
/* banners are outside .video-section but keep explicit stacking */
.banner, .navbar, .site-footer{ position:relative; z-index:10; }

/* =========================================================
   6) Popup (Win98)
========================================================= */
@font-face{ font-family:"MS Sans"; src:local("Tahoma"), local("MS Sans Serif"); }
.win98 *{ font-family:"MS Sans", Tahoma, Arial, sans-serif; }

#popup{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:#000; opacity:0; pointer-events:none; transition:opacity .35s ease; z-index:9999;
}
#popup.show{ opacity:1; pointer-events:auto; }
#popup.dim { opacity:1; pointer-events:auto; }
#popup.hide{ opacity:0; pointer-events:none; }

.win98-window{
  width:380px; max-width:90vw; background:#c0c0c0; color:#000;
  border:2px solid #000; border-color:#fff #000 #000 #fff;
  box-shadow:0 8px 24px rgba(0,0,0,.25);
  transform:translateY(-8px) scale(.98); opacity:0; pointer-events:none;
  transition:transform .25s ease, opacity .25s ease; border-radius:4px;
}
#popup.show .win98-window{ transform:none; opacity:1; pointer-events:auto; }
#popup.dim  .win98-window{ transform:translateY(-8px) scale(.98); opacity:0; pointer-events:none; }

.win98-titlebar{
  background:#000080; color:#fff; padding:6px 8px; display:flex; align-items:center; justify-content:center;
  border-bottom:2px solid; border-color:#fff #000 #000 #fff;
}
.win98-titlebar .title{ font-weight:bold; letter-spacing:.2px; }
.win98-body{ padding:14px; display:flex; gap:12px; align-items:flex-start; }
.win98-body .icon{ width:28px; height:28px; flex:0 0 28px; }
.win98-body p{ margin:2px 0 0; font-size:15px; }
.win98-buttons{ display:flex; justify-content:center; gap:12px; padding:0 14px 14px; }
.btn98{
  background:#c0c0c0; padding:6px 18px; cursor:pointer;
  border:2px solid; border-color:#fff #000 #000 #fff; border-radius:2px; font-weight:bold;
}
.btn98:active{ border-color:#000 #fff #fff #000; }
@media (max-width:480px){
  .win98-buttons{ gap:10px; flex-wrap:wrap; }
  .btn98{ min-width:96px; }
}

/* Lock screen (hide page until popup dismissed) */
body.locked{ overflow:hidden; }
body.locked > *:not(#popup){ display:none; }

/* =========================================================
   7) Music button
========================================================= */
.music-btn{
  position:fixed; bottom:20px; left:20px;
  background:#333; color:#fff;
  border:2px solid #fff; border-radius:6px;
  padding:8px 0; width:110px; text-align:center;
  font-size:14px; cursor:pointer; z-index:9999;
}
.music-btn:hover{ background:#555; }

/* =========================================================
   8) Gallery (sticky thumbs + fixed ratios)
========================================================= */
.gallery-slides.section{ max-width:1200px; margin:1rem auto; padding:0 1rem; }
.gallery-slides img{ max-width:100%; height:auto; display:block; }

.gallery-slides__wrap{
  display:grid; grid-template-columns:4rem auto; gap:.5rem;
}

/* thumbs rail */
.gallery-slides__thumbnail,
.slidesshow__thumbnail{               /* keep your original class too */
  width:100%;
  aspect-ratio:1 / 1;                 /* square thumbs */
  object-fit:cover;
  border-radius:4px;
  display:block;
}
.gallery-slides__dot:active{ outline:solid; }

/* slides track */
.gallery-slides__container{ display:grid; gap:.5rem; }

/* force all slides to same ratio (e.g., 16:9) */
.gallery-slides__slide,
.slidesshow__slide{                   /* keep your original class too */
  width:100% !important;
  aspect-ratio:16 / 9;
  height:auto;
  object-fit:cover;                   /* crop to fill box; no stretch */
  border-radius:6px;
  display:block;
  scroll-margin-top:80px;             /* navbar offset when anchored */
}

/* sticky sidebar */
.gallery-slides__sticky{
  position:sticky; top:1rem;
  display:grid; gap:.5rem;
}

/* responsive thumbs strip on phones */
@media (max-width:720px){
  .gallery-slides__wrap{ grid-template-columns:1fr; }
  .gallery-slides__aside{ order:-1; }
  .gallery-slides__sticky{
    position:static;
    display:grid; grid-auto-flow:column;
    gap:.5rem; overflow-x:auto; padding-bottom:.25rem;
  }
  .gallery-slides__thumbnail{ width:72px; height:72px; flex:0 0 auto; }
}

/* =========================================================
   9) Utility
========================================================= */
.gallery-img{ margin-bottom:20px; }   /* explicit spacing utility */
/* Add spacing between navbar and first card on smartphones */
@media (max-width: 760px) {
  .navbar {
    margin-bottom: 16px;   /* creates the gap */
  }
}

  </style>
  <link rel="icon" type="image/png" href="pic1.png">
</head>
<body>
<body class="locked">

<header class="banner">
  <!-- full-banner sprite field -->
  <div class="banner-sprites" aria-hidden="true"></div>

  <div class="wrapper banner-flex">
    <div class="banner-text">
      <h1>YUTA TAWARADA</h1>
      <p class="lightmuted">Who the fuck is this guy!</p>
    </div>
    <!-- your existing single banner gif can stay if you want -->
    <img class="banner-gif"
         src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExdHhnaXljYTF2d25ocHBleDU1MmJ6OG43bzM3aTRoZWZ2eHVobTVnMCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/l0IpXgEBZ3y3UEljO/giphy.gif"
         alt="">
  </div>
</header>


  <nav class="navbar">
    <div class="wrapper">
      <div class="nav">
        <a href="#home" data-route="home" class="active">HOME</a>
        <a href="#cv" data-route="cv">CV</a>
        <a href="#projects" data-route="projects">PROJECTS</a>
        <a href="#research" data-route="research">RESEARCH</a>
        <a href="#publications" data-route="publications">YOOOO!</a>
        <a href="#gallery" data-route="gallery">GALLERY</a>
        <a href="#sources" data-route="sources">SOURCES</a>
      </div>
    </div>
  </nav>

  <!-- Video only behind the main content area -->
  <div class="video-section">
    <video autoplay muted loop playsinline id="bg-video">
      <source src="video1.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>

    <main class="wrapper section">
      <!-- HOME -->
      <section id="page-home" class="page">
        <div class="card hero">
          <div>
            <h2>Welcome to my website.</h2>
            <p class="muted">We must lock in.</p>
          </div>
        </div>
        <div class="card hero hero--profile">
          <img class="resp" src="pic1.png" loading="lazy" alt="Profile photo of Yuta Tawarada" width="380" height="380"/>
          <div>
            <h2>Yuta Tawarada</h2>
            <p class="muted" style="margin-bottom:0"><strong>Who is this fucking guy!</strong></p>
            <p style="margin-top:0">He's locked in, at ease.</p>
          </div>
        </div>
      </section>

      <!-- CV -->
      <section id="page-cv" class="page">
        <div class="card">
          <h2>CV</h2>
          <ul>
            <li><strong>B.A., Global Political Economy</strong> ‚Äî Waseda Univeristy, Tokyo, Japan <em>(March 2025)</em></li>
          </ul>
        </div>
      </section>

      <!-- PROJECTS -->
      <section id="page-projects" class="page">
        <div class="card">
          <h2><i>PART1</i><br>Can You Lock The Fuck In?</h2>
          <p>Would you?</p>
          <img class="resp" src="https://as2.ftcdn.net/jpg/00/98/24/45/1000_F_98244581_otL4Mr22a7X0YkGT4c4S4iyCAlioHA7w.jpg" loading="lazy" alt="Lock The Fuck In" width="380" height="380"/>
          <p><a href="https://www.urbandictionary.com/define.php?term=Locked+In" target="_blank" rel="noopener">Reference Nr.1</a></p>
        </div>

        <div class="card">
          <h2><i>PART2</i><br>Can You Lock The Fuck In?</h2>
          <p>How about we lock in together?</p>
          <img class="gallery-img" src="https://assets.mubicdn.net/images/notebook/post_images/20936/images-w1400.jpg?1458491163" loading="lazy" alt="Lock The Fuck In"/>
          <img class="gallery-img" src="https://images.amcnetworks.com/ifccenter.com/wp-content/uploads/2021/07/inthemoodforlove_1280x720.jpg" loading="lazy" alt="Lock The Fuck In"/>
          <p><a href="https://deutschefachpflege.de/wiki/locked-in-syndrom/" target="_blank" rel="noopener">Reference Nr.2</a></p>
        </div>
      </section>

      <!-- RESEARCH -->
      <section id="page-research" class="page">
        <article class="r-card">
          <h2 class="r-title">
            Stochastic Causality in Experiential Manifolds:<br>
            A Unified Theory of Fucking Around and Finding Out
          </h2>
          <h3 class="r-sub">A Nonlinear Epistemodynamic Approach to Consequential Ontologies</h3>

          <div class="r-grid">
            <figure class="r-fig">
              <img src="FAFO.png" loading="lazy" alt="Parametric visualization of the FA‚ÄìFO proportionality theorem" width="380" height="380">
              <figcaption class="r-cap">
                Graphical instantiation of the hypothesized linear FA‚ÜíFO causality, illustrating a Œ≤=1 slope across the experiential continuum [1].
              </figcaption>
            </figure>
            <div>
              <p class="r-p">
                The FA‚ÜíFO axiom is here formalized as a minimally parameterized, uni-slope model in which the magnitude of finding out emerges as an invariant, homomorphic image of fucking around. Treating FA as the generative operator on an experiential manifold and FO as its epistemic coimage, we demonstrate that incremental perturbations in FA yield isomorphic escalations in FO (Œ≤=1), thereby collapsing contingency into necessity. The trajectory from origin to consequence is not merely correlative but constitutive: FA instantiates the very metric by which FO becomes legible. Consequently, stochastic or nonlinear accounts are rendered superfluous; the system exhibits strict proportionality, homoscedasticity, and path independence. In sum, FA is both necessary and sufficient for FO, a teleological circuit in which praxis begets knowledge with unit elasticity. Future work may generalize this mapping to higher-dimensional mischief spaces and non-Euclidean repercussion geometries.
              </p>
            </div>
          </div>

          <p class="r-p" style="margin-top:18px;">
            Within this framework, we successfully reproduced the canonical FAFO cycle observed in empirical folklore, thereby substantiating the predictive capacity of the model across heterogeneous ontological substrates.
          </p>

          <ol class="r-refs">
            <li>
              J. Vandrake, P. Oscillanti, L. Thorne,
              ‚ÄúEpistemic Hysteresis in Causal Folklore: Quantifying the FA‚ÜíFO Manifold,‚Äù
              <em>Journal of Irreproducible Results</em>, 42(3): 1337‚Äì1359 (2023).
              <a href="https://www.youtube.com/watch?v=WB0sqf1RAbo&list=RDWB0sqf1RAbo&start_radio=1" target="_blank" rel="noopener"><i>Intellectual Stimulus</i></a>
            </li>
          </ol>
        </article>
      </section>

      <!-- PUBLICATIONS -->
      <section id="page-publications" class="page">
        <div class="card">
          <h2>Watch this!</h2>
          <p>Can you believe this shit?</p>
          <figure class="r-fig">
            <img src="https://images.squarespace-cdn.com/content/v1/5bedcfebda02bc61f08c0bd4/1702464532041-VVST4300UKACPTE5YALX/2.jpg?format=2500w" loading="lazy" alt="Parametric visualization of the FA‚ÄìFO proportionality theorem" width="380" height="380">
            <figcaption class="r-cap">
              <i>‚ÄúAlgorithmic Beauty‚Äù</i> 2022, Statuario Marble, 6‚Äô8‚Äù (204cm.), Greg Lansky
            </figcaption>
          </figure>
        </div>
      </section>
      <section id="page-gallery" class="page">
  <div class="gallery-slides section">
    <div class="gallery-slides__wrap">
      <aside class="gallery-slides__aside">
        <div class="gallery-slides__sticky">
          <a href="#c1" class="gallery-slides__dot">
            <img
              src="pic4.JPG"
              alt="Closeup of a curling ocean wave."
              title="photo by Jeremy Bishop for Unsplash"
              class="gallery-slides__thumbnail">
          </a>
          <a href="#c2" class="gallery-slides__dot">
            <img
              src="pic5.JPG
              alt="Foamy waves gently lapping a sandy beach shore."
              title="photo by Frank McKenna for Unsplash"
              class="gallery-slides__thumbnail">
          </a>
          <a href="#c3" class="gallery-slides__dot">
            <img
              src="pic6.JPG"
              alt="A starfish at the edge of the water."
              title="photo by Amy Humphries for Unsplash"
              class="gallery-slides__thumbnail">
          </a>
          <a href="#c4" class="gallery-slides__dot">
            <img
              src="pic7.JPG"
              alt="Aerial view of waves on sand."
              title="photo by Samuel Scrimshaw for Unsplash"
              class="gallery-slides__thumbnail">
          </a>
        </div>
      </aside>

      <div class="gallery-slides__track">
        <div class="gallery-slides__container">
          <img id="c1"
               src="pic4.JPG"
               alt="Closeup of a curling ocean wave."
               class="gallery-slides__slide">
          <img id="c2"
               src="pic5.JPG"
               alt="Foamy waves lapping a sandy beach."
               class="gallery-slides__slide">
          <img id="c3"
               src="pic6.JPG"
               alt="Starfish on white sand."
               class="gallery-slides__slide">
          <img id="c4"
               src="pic7.JPG"
               alt="Aerial waves on a beach."
               class="gallery-slides__slide">
        </div>
      </div>
    </div>
  </div>
</section>

     <!-- SOURCES -->
      <section id="page-sources" class="page">
        <div class="card">
          <h2>SOURCES</h2>
          <ul>
            <li><strong>ANY IMAGE/TEXT/VIDEO/MUSIC/GIF</strong> ‚Äî <em>THE SOURCE</em></li>
          </ul>
        </div>
      </section>
    </main>
  </div> 
  
  
  <!-- /video-section -->

<script>
  /* SPA router with gallery in-page anchors */
  const routes = ["home","cv","experience","projects","research","publications","gallery", "sources"];

  function activate(route){
    if (!routes.includes(route)) route = "home";
    document.querySelectorAll('.nav a').forEach(a =>
      a.classList.toggle('active', a.dataset.route === route)
    );
    document.querySelectorAll('.page').forEach(sec =>
      sec.classList.toggle('active', sec.id === 'page-' + route)
    );
  }

  function handleHash(){
    const h = location.hash.replace('#','').toLowerCase();

    // If hash is a gallery slide id like c1, c2, ...
    if (/^c\d+$/i.test(h)) {
      // show the Gallery page, then scroll to the slide
      activate('gallery');
      const el = document.getElementById(h);
      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
      return; // do not route to home
    }

    // Normal routes
    const route = routes.includes(h) ? h : 'home';
    activate(route);
  }

  window.addEventListener('hashchange', handleHash);
  window.addEventListener('DOMContentLoaded', handleHash);
</script>


<footer class="site-footer">
  <div class="footer-wrapper">
    <!-- Your credentials -->
    <div class="footer-col">
      <h3>Yuta Tawarada</h3>
      <p>Based in Giessen, Germany</p>
      <p>Email: <a href="mailto:yutataw1@gmail.com">yutataw1@gmail.com</a></p>
      <p>LinkedIn: <a href="https://www.tagesschau.de/">Linked in is not locked in.</a></p>
    </div>

    <!-- Other links -->
    <div class="footer-col">
      <h3>Other links</h3>
      <p><a href="https://www.liebeskind.de/templates/yootheme/cache/56/Murakami_Ryu_sw-56d88e80.jpeg" target="_blank">Image of an orange</a></p>
    </div>

    <!-- Right GIF -->
    <div class="footer-gif">
      <img src="https://media.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3bWlya25iNml4NXRqYWtoN2NycGQ0eHVrb2hoYWFpeHR2NHlzZHU1eSZlcD12MV9zdGlja2Vyc19yZWxhdGVkJmN0PXM/l2JJFzDwOzbAhQVos/giphy.gif" 
           alt="Funny GIF">
    </div>
  </div>
</footer>

  <!-- Win98 Popup -->
  <div id="popup" class="win98 hide">
    <div class="win98-window" role="dialog" aria-modal="true" aria-labelledby="w98-title">
      <div class="win98-titlebar">
        <div id="w98-title" class="title">Can you lock the fuck in?</div>
      </div>
      <div class="win98-body">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="12" cy="12" r="11" fill="#d32f2f" stroke="#8b0000" stroke-width="2"/>
          <path d="M8 8l8 8M16 8l-8 8" stroke="#fff" stroke-width="2.5" stroke-linecap="round"/>
        </svg>
        <p><strong>Can you lock the fuck in?</strong></p>
      </div>
      <div class="win98-buttons">
        <button class="btn98" id="btn-yes">YES</button>
        <button class="btn98" id="btn-ok">OK</button>
      </div>
    </div>
  </div>

  <!-- Background music -->
  <audio id="bg-music" autoplay loop muted></audio>
  <button id="music-toggle" class="music-btn">Pause</button>

<script>
(function(){
  // --- popup elements ---
  const overlay = document.getElementById('popup');
  const btnYes  = document.getElementById('btn-yes');
  const btnOk   = document.getElementById('btn-ok');

  // --- audio elements ---
  const audio = document.getElementById('bg-music');
  const toggleBtn = document.getElementById('music-toggle');

  // pick a random track
  const tracks = ["music1.mp3", "music2.mp3", "music3.mp3"];
  audio.src = tracks[Math.floor(Math.random() * tracks.length)];
  audio.loop = true;
  audio.volume = 0.6;
  audio.muted = true; // start muted to satisfy autoplay policies

  // open popup with fade
  function openPopup(){
    overlay.classList.remove('hide','dim','show');
    requestAnimationFrame(() => overlay.classList.add('show'));
  }

  // start music from a user gesture
  function startMusic(){
    audio.muted = false;        // make it audible
    return audio.play().then(() => {
      toggleBtn.textContent = "Pause";
    }).catch(() => {
      toggleBtn.textContent = "Play";
    });
  }

  // close popup after starting music; keep black overlay for 1.3s
function closePopupAfterStart(){
  startMusic().finally(() => {
    overlay.classList.remove('show');
    overlay.classList.add('dim');
    setTimeout(() => {
      overlay.classList.remove('dim');
      overlay.classList.add('hide');

      // reveal the page content now
      document.body.classList.remove('locked');

      // üîî tell others (like the banner sprites) that the page is now visible
      window.dispatchEvent(new Event('page:unlocked'));
    }, 1300);
  });
}



  // init on load
  window.addEventListener('DOMContentLoaded', openPopup);

  // ONLY these two buttons close the popup & start music
  btnYes.addEventListener('click', closePopupAfterStart);
  btnOk.addEventListener('click', closePopupAfterStart);

  // play/pause control
  toggleBtn.addEventListener('click', () => {
    if (audio.paused) {
      startMusic();
    } else {
      audio.pause();
      toggleBtn.textContent = "Play";
    }
  });
})();
</script>
<script>
(function(){
  const spritesHost = document.querySelector('.banner-sprites');
  if (!spritesHost) return;

  const sourceGif = (document.querySelector('.banner-gif') || {}).src
    || 'https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExdHhnaXljYTF2d25ocHBleDU1MmJ6OG43bzM3aTRoZWZ2eHVobTVnMCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/l0IpXgEBZ3y3UEljO/giphy.gif';

  const COUNT = 20;
  const MIN = 40;
  const MAX = 110;

  const rand = (min, max) => Math.random() * (max - min) + min;

  function placeSprites(){
    // clear existing sprites
    spritesHost.innerHTML = '';

    const rect = spritesHost.getBoundingClientRect();
    for (let i = 0; i < COUNT; i++){
      const img = document.createElement('img');
      img.src = sourceGif;

      const size = rand(MIN, MAX);
      img.style.width  = size + 'px';
      img.style.height = 'auto';

      const pad = 6;
      const left = rand(pad, rect.width  - size - pad);
      const top  = rand(pad, rect.height - size - pad);
      img.style.left = left + 'px';
      img.style.top  = top  + 'px';

      const dur = rand(3.5, 7);
      const delay = rand(0, 3);
      img.style.animation = `floatDrift ${dur}s ease-in-out ${delay}s infinite alternate`;

      img.style.opacity = (0.55 + Math.random() * 0.35).toFixed(2);

      spritesHost.appendChild(img);
    }
  }

  // Only place when the banner has non-zero size (page not hidden)
  function placeWhenReady(){
    const rect = spritesHost.getBoundingClientRect();
    if (rect.width < 20 || rect.height < 20) {
      // try again shortly until visible
      setTimeout(placeWhenReady, 50);
      return;
    }
    placeSprites();
  }

  // initial (may get deferred until visible)
  window.addEventListener('DOMContentLoaded', placeWhenReady);

  // re-layout on unlock (after popup)
  window.addEventListener('page:unlocked', placeWhenReady);

  // re-layout on resize (debounced)
  let t;
  window.addEventListener('resize', () => {
    clearTimeout(t);
    t = setTimeout(placeWhenReady, 200);
  });
})();
</script>

<script>
(function(){
  const host = document.querySelector('.banner-sprites');
  if (!host) return;

  // use your existing big gif as the source (fallback to a URL if not found)
  const sourceGif = (document.querySelector('.banner-gif') || {}).src
    || 'https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExdHhnaXljYTF2d25ocHBleDU1MmJ6OG43bzM3aTRoZWZ2eHVobTVnMCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/l0IpXgEBZ3y3UEljO/giphy.gif';

  const COUNT = 20;        // how many copies
  const SIZE_MIN = 48;     // px
  const SIZE_MAX = 140;    // px

  const rand = (a,b)=>Math.random()*(b-a)+a;

  function place(){
    host.innerHTML = '';
    const rect = host.getBoundingClientRect();

    // if banner is hidden (e.g., black overlay), try again shortly
    if (rect.width < 10 || rect.height < 10){
      setTimeout(place, 50);
      return;
    }

    for (let i=0;i<COUNT;i++){
      const img = document.createElement('img');
      img.src = sourceGif;

      // random size
      const w = rand(SIZE_MIN, SIZE_MAX);
      img.style.width = w + 'px';
      img.style.height = 'auto';

      // random position anywhere in the banner (avoid clipping a bit)
      const pad = 6;
      const left = rand(pad, rect.width  - w - pad);
      const top  = rand(pad, rect.height - w - pad); // heuristic, ok for square-ish gifs
      img.style.left = left + 'px';
      img.style.top  = top  + 'px';

      // independent tempo: different duration + negative delay so they start mid-cycle
      img.style.animationDuration = (rand(3.5, 9)).toFixed(2) + 's';
      img.style.animationDelay    = (-rand(0, 6)).toFixed(2) + 's';

      // slight random opacity variation (optional)
      img.style.opacity = (0.55 + Math.random()*0.35).toFixed(2);

      host.appendChild(img);
    }
  }

  // initial (may defer until banner visible)
  window.addEventListener('DOMContentLoaded', place);

  // if you dispatch this after closing your popup black screen, re-place then
  window.addEventListener('page:unlocked', place);

  // re-place on resize (debounced)
  let t;
  window.addEventListener('resize', () => {
    clearTimeout(t);
    t = setTimeout(place, 200);
  });
})();
</script>

</script>

</body>
</html>
